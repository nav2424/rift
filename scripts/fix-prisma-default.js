// Postinstall script to fix Prisma 7 default.js file
const fs = require('fs')
const path = require('path')

const defaultJsPath = path.join(__dirname, '../node_modules/.prisma/client/default.js')

// Only create if the directory exists (Prisma has been generated)
if (fs.existsSync(path.dirname(defaultJsPath))) {
  const defaultJsContent = `// Auto-generated by postinstall script
// Export PrismaClient from @prisma/client
'use strict'
module.exports = require('@prisma/client')
`

  fs.writeFileSync(defaultJsPath, defaultJsContent, 'utf8')
  console.log('âœ“ Fixed Prisma default.js file')
}

